// ==== Syst√®me de traduction multilingue ====

const translations = {
  fr: {
    // Navigation
    "nav.home": "Accueil",
    "nav.about": "√Ä propos",
    "nav.skills": "Comp√©tences",
    "nav.projects": "Projets",
    "nav.startup": "Startup",
    "nav.contact": "Contact",
    "nav.darkmode": "Activer le mode sombre",
    "nav.lightmode": "Activer le mode clair",
    "nav.menu": "Ouvrir le menu de navigation",

    // Hero Section
    "hero.greeting": "Bonjour, je suis",
    "hero.name": "Ludovic",
    "hero.title": "D√©veloppeur Web Full Stack",
    "hero.description":
      "Je cr√©e des applications web modernes et performantes avec pour stack principale <strong>JavaScript</strong>, <strong>Node.js</strong> et <strong>PostgreSQL</strong>.",
    "hero.status":
      "üéØ Actuellement sur le developpement d'un site <strong>e-commerce</strong>",
    "hero.btn.projects": "Voir mes projets",
    "hero.btn.contact": "Me contacter",

    // About Section
    "about.title": "√Ä Propos de Moi",
    "about.subtitle":
      "Passionn√© par le d√©veloppement web et les nouvelles technologies",
    "about.intro":
      "D√©veloppeur Full Stack passionn√©, je me sp√©cialise dans la cr√©ation d'applications web modernes et performantes.",
    "about.text1":
      "Avec une solide exp√©rience en <strong>JavaScript</strong> et <strong>Node.js</strong>, je d√©veloppe des solutions compl√®tes, du front-end au back-end. Mon approche se concentre sur la cr√©ation d'interfaces utilisateur intuitives et d'architectures back-end robustes.",
    "about.text2":
      "Je suis constamment √† la recherche de nouveaux d√©fis et j'aime apprendre de nouvelles technologies pour am√©liorer mes comp√©tences et cr√©er des solutions innovantes.",
    "about.detail1.title": "Projets r√©alis√©s",
    "about.detail1.value": "3+",
    "about.detail2.title": "Engagement",
    "about.detail3.title": "Technologies",
    "about.detail3.value": "8",

    // Skills Section
    "skills.title": "Comp√©tences",
    "skills.subtitle": "Technologies et outils que je ma√Ætrise",
    "skills.frontend": "Frontend",
    "skills.backend": "Backend",
    "skills.tools": "Outils & Autres",

    // Projects Section
    "projects.title": "Mes Projets",
    "projects.subtitle": "D√©couvrez mes r√©alisations r√©centes",
    "projects.btn.demo": "Voir d√©mo",
    "projects.btn.code": "Code source",

    // Startup Section
    "startup.title": "Startup",
    "startup.subtitle": "Innovation et d√©veloppement",
    "startup.name": "DevNDumber",
    "startup.since": "Depuis janvier 2026",
    "startup.role": "D√©veloppeur Full Stack",
    "startup.description":
      "DevNDumber est une startup innovante sp√©cialis√©e dans le d√©veloppement web et mobile. Nous cr√©ons des solutions sur mesure pour nos clients en utilisant les technologies les plus r√©centes.",
    "startup.value1": "Innovation",
    "startup.value2": "Qualit√©",
    "startup.value3": "Performance",
    "startup.value4": "Support 24/7",
    "startup.link": "Visiter le site",

    // Contact Section
    "contact.title": "Me Contacter",
    "contact.subtitle": "Discutons de votre projet",
    "contact.intro":
      "Une question ? Un projet en t√™te ? N'h√©sitez pas √† me contacter !",
    "contact.btn.open": "Ouvrir le formulaire",
    "contact.form.title": "Envoyez-moi un message",
    "contact.form.name": "Nom",
    "contact.form.name.placeholder": "Votre nom",
    "contact.form.email": "Email",
    "contact.form.email.placeholder": "votre.email@exemple.com",
    "contact.form.message": "Message",
    "contact.form.message.placeholder": "Votre message...",
    "contact.form.submit": "Envoyer",
    "contact.form.close": "Fermer",

    // Footer
    "footer.rights": "Tous droits r√©serv√©s.",
    "footer.legal": "Mentions L√©gales",
    "footer.privacy": "Politique de Confidentialit√©",

    // Other
    "scroll.top": "Retour en haut",
    "skip.link": "Aller au contenu",

    // Legal Pages - Mentions L√©gales
    "legal.title": "Mentions L√©gales",
    "legal.update": "Derni√®re mise √† jour",
    "legal.intro":
      "Conform√©ment aux dispositions de la loi n¬∞ 2004-575 du 21 juin 2004 pour la confiance en l'√©conomie num√©rique, il est pr√©cis√© aux utilisateurs du site l'identit√© des diff√©rents intervenants dans le cadre de sa r√©alisation et de son suivi.",

    "legal.editor.title": "√âditeur du site",
    "legal.editor.name": "Nom",
    "legal.editor.email": "Email",
    "legal.editor.site": "Site web",

    "legal.hosting.title": "H√©bergement",
    "legal.hosting.name": "H√©bergeur",
    "legal.hosting.address": "Adresse",
    "legal.hosting.site": "Site web",

    "legal.property.title": "Propri√©t√© intellectuelle",
    "legal.property.text":
      "L'ensemble de ce site rel√®ve de la l√©gislation fran√ßaise et internationale sur le droit d'auteur et la propri√©t√© intellectuelle. Tous les droits de reproduction sont r√©serv√©s, y compris pour les documents t√©l√©chargeables et les repr√©sentations iconographiques et photographiques.",

    "legal.data.title": "Donn√©es personnelles",
    "legal.data.text":
      "Conform√©ment au R√®glement G√©n√©ral sur la Protection des Donn√©es (RGPD), vous disposez d'un droit d'acc√®s, de rectification et de suppression des donn√©es vous concernant. Pour exercer ce droit, veuillez consulter notre Politique de Confidentialit√©.",

    "legal.links.title": "Liens externes",
    "legal.links.text":
      "Ce site peut contenir des liens vers d'autres sites. Nous ne sommes pas responsables du contenu de ces sites externes ni des pratiques de confidentialit√© qu'ils appliquent.",

    "legal.cookies.title": "Cookies",
    "legal.cookies.text":
      "Ce site utilise des cookies pour am√©liorer l'exp√©rience utilisateur. En continuant votre navigation, vous acceptez l'utilisation de cookies.",

    "legal.law.title": "Loi applicable",
    "legal.law.text":
      "Le pr√©sent site et les pr√©sentes conditions d'utilisation sont r√©gis par le droit fran√ßais. En cas de litige et √† d√©faut d'accord amiable, le litige sera port√© devant les tribunaux fran√ßais conform√©ment aux r√®gles de comp√©tence en vigueur.",

    // Privacy Policy
    "privacy.title": "Politique de Confidentialit√©",
    "privacy.intro":
      "Cette politique de confidentialit√© explique comment nous collectons, utilisons et prot√©geons vos donn√©es personnelles.",

    "privacy.controller.title": "Responsable du traitement",
    "privacy.controller.text":
      "Ludovic Trichereau<br>Email: ludot84.dev@gmail.com",

    "privacy.collected.title": "Donn√©es collect√©es",
    "privacy.collected.text":
      "Nous collectons uniquement les donn√©es que vous nous fournissez volontairement via le formulaire de contact :",
    "privacy.collected.list":
      "<li><strong>Nom complet</strong> : pour vous identifier</li><li><strong>Adresse email</strong> : pour vous r√©pondre</li><li><strong>Sujet</strong> : pour comprendre votre demande</li><li><strong>Message</strong> : contenu de votre demande</li>",
    "privacy.collected.subtitle1": "Via le formulaire de contact :",
    "privacy.collected.subtitle2": "Donn√©es techniques :",
    "privacy.collected.technical":
      "<li><strong>Pr√©f√©rence de th√®me</strong> (clair/sombre) : stock√©e localement dans votre navigateur (localStorage)</li>",
    "privacy.collected.note":
      "<strong>Aucune donn√©e de navigation n'est collect√©e.</strong> Ce site n'utilise pas de cookies de tracking, d'analytics ou de publicit√©.",

    "privacy.purpose.title": "Finalit√© du traitement",
    "privacy.purpose.text":
      "Les donn√©es collect√©es via le formulaire de contact sont utilis√©es uniquement pour :",
    "privacy.purpose.list":
      "<li>R√©pondre √† vos demandes de contact</li><li>√âchanger sur d'√©ventuelles opportunit√©s professionnelles</li><li>Communiquer sur des projets</li>",
    "privacy.purpose.note":
      "<strong>Vos donn√©es ne seront jamais vendues, lou√©es ou partag√©es avec des tiers</strong> √† des fins commerciales.",

    "privacy.legal.title": "Base l√©gale du traitement",
    "privacy.legal.text":
      "Le traitement de vos donn√©es personnelles repose sur :",
    "privacy.legal.list":
      "<li><strong>Votre consentement</strong> : en remplissant et soumettant le formulaire de contact</li><li><strong>L'int√©r√™t l√©gitime</strong> : pour r√©pondre √† vos demandes de contact professionnel</li>",

    "privacy.retention.title": "Dur√©e de conservation",
    "privacy.retention.text":
      "Les donn√©es collect√©es via le formulaire de contact sont conserv√©es pendant <strong>3 ans maximum</strong> √† compter de notre dernier √©change.",
    "privacy.retention.note":
      "Pass√© ce d√©lai, vos donn√©es sont supprim√©es d√©finitivement, sauf obligation l√©gale contraire.",

    "privacy.security.title": "S√©curit√© des donn√©es",
    "privacy.security.text":
      "Des mesures techniques et organisationnelles appropri√©es sont mises en place pour prot√©ger vos donn√©es personnelles contre tout acc√®s non autoris√©, perte, destruction ou divulgation.",
    "privacy.security.list":
      "<li>Site h√©berg√© sur GitHub Pages avec protocole HTTPS</li><li>Pas de stockage de donn√©es sensibles (mots de passe, cartes bancaires, etc.)</li><li>Acc√®s aux donn√©es strictement limit√©</li>",

    "privacy.rights.title": "Vos droits (RGPD)",
    "privacy.rights.text":
      "Conform√©ment au RGPD, vous disposez des droits suivants :",
    "privacy.rights.list":
      "<li><strong>Droit d'acc√®s</strong> : obtenir une copie de vos donn√©es personnelles</li><li><strong>Droit de rectification</strong> : corriger des donn√©es inexactes ou incompl√®tes</li><li><strong>Droit √† l'effacement</strong> : demander la suppression de vos donn√©es</li><li><strong>Droit √† la limitation</strong> : limiter le traitement de vos donn√©es</li><li><strong>Droit d'opposition</strong> : vous opposer au traitement de vos donn√©es</li><li><strong>Droit √† la portabilit√©</strong> : r√©cup√©rer vos donn√©es dans un format structur√©</li>",
    "privacy.rights.exercise":
      'Pour exercer ces droits, contactez-moi √† : <a href="mailto:ludot84.dev@gmail.com">ludot84.dev@gmail.com</a>',
    "privacy.rights.cnil":
      'Vous disposez √©galement du droit d\'introduire une r√©clamation aupr√®s de la <strong>CNIL</strong> (Commission Nationale de l\'Informatique et des Libert√©s) : <a href="https://www.cnil.fr" target="_blank" rel="noopener noreferrer">www.cnil.fr</a>',

    "privacy.cookies.title": "Cookies et technologies similaires",
    "privacy.cookies.text":
      "Ce site utilise uniquement le <strong>localStorage</strong> de votre navigateur pour enregistrer votre pr√©f√©rence de th√®me (clair/sombre). Cette donn√©e reste stock√©e localement sur votre appareil et n'est jamais transmise √† un serveur.",
    "privacy.cookies.note":
      "<strong>Aucun cookie de tracking, d'analyse ou de publicit√© n'est utilis√©.</strong>",

    "privacy.changes.title": "Modifications de la politique",
    "privacy.changes.text":
      "Cette politique de confidentialit√© peut √™tre mise √† jour occasionnellement pour refl√©ter les changements dans nos pratiques de traitement des donn√©es. La date de derni√®re mise √† jour est indiqu√©e ci-dessous.",
    "privacy.changes.note":
      "Il vous est conseill√© de consulter r√©guli√®rement cette page pour prendre connaissance des √©ventuelles modifications.",
  },

  en: {
    // Navigation
    "nav.home": "Home",
    "nav.about": "About",
    "nav.skills": "Skills",
    "nav.projects": "Projects",
    "nav.startup": "Startup",
    "nav.contact": "Contact",
    "nav.darkmode": "Enable dark mode",
    "nav.lightmode": "Enable light mode",
    "nav.menu": "Open navigation menu",

    // Hero Section
    "hero.greeting": "Hello, I'm",
    "hero.name": "Ludovic",
    "hero.title": "Full Stack Web Developer",
    "hero.description":
      "I create modern and efficient web applications with my main stack being <strong>JavaScript</strong>, <strong>Node.js</strong> and <strong>PostgreSQL</strong>.",
    "hero.status":
      "üéØ Currently developing an <strong>e-commerce</strong> website",
    "hero.btn.projects": "View my projects",
    "hero.btn.contact": "Contact me",

    // About Section
    "about.title": "About Me",
    "about.subtitle": "Passionate about web development and new technologies",
    "about.intro":
      "Passionate Full Stack Developer, I specialize in creating modern and efficient web applications.",
    "about.text1":
      "With solid experience in <strong>JavaScript</strong> and <strong>Node.js</strong>, I develop complete solutions, from front-end to back-end. My approach focuses on creating intuitive user interfaces and robust back-end architectures.",
    "about.text2":
      "I'm constantly looking for new challenges and I love learning new technologies to improve my skills and create innovative solutions.",
    "about.detail1.title": "Completed Projects",
    "about.detail1.value": "3+",
    "about.detail2.title": "Commitment",
    "about.detail3.title": "Technologies",
    "about.detail3.value": "8",

    // Skills Section
    "skills.title": "Skills",
    "skills.subtitle": "Technologies and tools I master",
    "skills.frontend": "Frontend",
    "skills.backend": "Backend",
    "skills.tools": "Tools & Others",

    // Projects Section
    "projects.title": "My Projects",
    "projects.subtitle": "Discover my recent work",
    "projects.btn.demo": "View demo",
    "projects.btn.code": "Source code",

    // Startup Section
    "startup.title": "Startup",
    "startup.subtitle": "Innovation and development",
    "startup.name": "DevNDumber",
    "startup.since": "Since January 2026",
    "startup.role": "Full Stack Developer",
    "startup.description":
      "DevNDumber is an innovative startup specializing in web and mobile development. We create custom solutions for our clients using the latest technologies.",
    "startup.value1": "Innovation",
    "startup.value2": "Quality",
    "startup.value3": "Performance",
    "startup.value4": "24/7 Support",
    "startup.link": "Visit website",

    // Contact Section
    "contact.title": "Contact Me",
    "contact.subtitle": "Let's discuss your project",
    "contact.intro":
      "Have a question? A project in mind? Feel free to contact me!",
    "contact.btn.open": "Open form",
    "contact.form.title": "Send me a message",
    "contact.form.name": "Name",
    "contact.form.name.placeholder": "Your name",
    "contact.form.email": "Email",
    "contact.form.email.placeholder": "your.email@example.com",
    "contact.form.message": "Message",
    "contact.form.message.placeholder": "Your message...",
    "contact.form.submit": "Send",
    "contact.form.close": "Close",

    // Footer
    "footer.rights": "All rights reserved.",
    "footer.legal": "Legal Notice",
    "footer.privacy": "Privacy Policy",

    // Other
    "scroll.top": "Back to top",
    "skip.link": "Skip to content",

    // Legal Pages - Legal Notice
    "legal.title": "Legal Notice",
    "legal.update": "Last updated",
    "legal.intro":
      "In accordance with the provisions of Law No. 2004-575 of June 21, 2004 for confidence in the digital economy, users of the site are informed of the identity of the various parties involved in its creation and monitoring.",

    "legal.editor.title": "Site Editor",
    "legal.editor.name": "Name",
    "legal.editor.email": "Email",
    "legal.editor.site": "Website",

    "legal.hosting.title": "Hosting",
    "legal.hosting.name": "Host",
    "legal.hosting.address": "Address",
    "legal.hosting.site": "Website",

    "legal.property.title": "Intellectual Property",
    "legal.property.text":
      "The entire site is subject to French and international legislation on copyright and intellectual property. All reproduction rights are reserved, including for downloadable documents and iconographic and photographic representations.",

    "legal.data.title": "Personal Data",
    "legal.data.text":
      "In accordance with the General Data Protection Regulation (GDPR), you have the right to access, rectify and delete data concerning you. To exercise this right, please consult our Privacy Policy.",

    "legal.links.title": "External Links",
    "legal.links.text":
      "This site may contain links to other sites. We are not responsible for the content of these external sites or the privacy practices they apply.",

    "legal.cookies.title": "Cookies",
    "legal.cookies.text":
      "This site uses cookies to improve the user experience. By continuing your navigation, you accept the use of cookies.",

    "legal.law.title": "Applicable Law",
    "legal.law.text":
      "This site and these terms of use are governed by French law. In the event of a dispute and in the absence of an amicable agreement, the dispute will be brought before the French courts in accordance with the applicable rules of jurisdiction.",

    // Privacy Policy
    "privacy.title": "Privacy Policy",
    "privacy.intro":
      "This privacy policy explains how we collect, use and protect your personal data.",

    "privacy.controller.title": "Data Controller",
    "privacy.controller.text":
      "Ludovic Trichereau<br>Email: ludot84.dev@gmail.com",

    "privacy.collected.title": "Data Collected",
    "privacy.collected.text":
      "We only collect data that you voluntarily provide to us via the contact form:",
    "privacy.collected.list":
      "<li><strong>Full name</strong>: to identify you</li><li><strong>Email address</strong>: to respond to you</li><li><strong>Subject</strong>: to understand your request</li><li><strong>Message</strong>: content of your request</li>",
    "privacy.collected.subtitle1": "Via the contact form:",
    "privacy.collected.subtitle2": "Technical data:",
    "privacy.collected.technical":
      "<li><strong>Theme preference</strong> (light/dark): stored locally in your browser (localStorage)</li>",
    "privacy.collected.note":
      "<strong>No browsing data is collected.</strong> This site does not use tracking, analytics or advertising cookies.",

    "privacy.purpose.title": "Purpose of Processing",
    "privacy.purpose.text":
      "Data collected via the contact form is used only for:",
    "privacy.purpose.list":
      "<li>Responding to your contact requests</li><li>Discussing potential professional opportunities</li><li>Communicating about projects</li>",
    "privacy.purpose.note":
      "<strong>Your data will never be sold, rented or shared with third parties</strong> for commercial purposes.",

    "privacy.legal.title": "Legal Basis for Processing",
    "privacy.legal.text": "The processing of your personal data is based on:",
    "privacy.legal.list":
      "<li><strong>Your consent</strong>: by filling out and submitting the contact form</li><li><strong>Legitimate interest</strong>: to respond to your professional contact requests</li>",

    "privacy.retention.title": "Retention Period",
    "privacy.retention.text":
      "Data collected via the contact form is kept for a <strong>maximum of 3 years</strong> from our last exchange.",
    "privacy.retention.note":
      "After this period, your data is permanently deleted, unless otherwise required by law.",

    "privacy.security.title": "Data Security",
    "privacy.security.text":
      "Appropriate technical and organizational measures are implemented to protect your personal data against unauthorized access, loss, destruction or disclosure.",
    "privacy.security.list":
      "<li>Site hosted on GitHub Pages with HTTPS protocol</li><li>No storage of sensitive data (passwords, bank cards, etc.)</li><li>Strictly limited data access</li>",

    "privacy.rights.title": "Your Rights (GDPR)",
    "privacy.rights.text":
      "In accordance with the GDPR, you have the following rights:",
    "privacy.rights.list":
      "<li><strong>Right of access</strong>: obtain a copy of your personal data</li><li><strong>Right of rectification</strong>: correct inaccurate or incomplete data</li><li><strong>Right to erasure</strong>: request deletion of your data</li><li><strong>Right to restriction</strong>: restrict the processing of your data</li><li><strong>Right to object</strong>: object to the processing of your data</li><li><strong>Right to portability</strong>: retrieve your data in a structured format</li>",
    "privacy.rights.exercise":
      'To exercise these rights, contact me at: <a href="mailto:ludot84.dev@gmail.com">ludot84.dev@gmail.com</a>',
    "privacy.rights.cnil":
      'You also have the right to lodge a complaint with the <strong>CNIL</strong> (French Data Protection Authority): <a href="https://www.cnil.fr" target="_blank" rel="noopener noreferrer">www.cnil.fr</a>',

    "privacy.cookies.title": "Cookies and Similar Technologies",
    "privacy.cookies.text":
      "This site only uses your browser's <strong>localStorage</strong> to save your theme preference (light/dark). This data remains stored locally on your device and is never transmitted to a server.",
    "privacy.cookies.note":
      "<strong>No tracking, analytics or advertising cookies are used.</strong>",

    "privacy.changes.title": "Policy Changes",
    "privacy.changes.text":
      "This privacy policy may be updated occasionally to reflect changes in our data processing practices. The date of the last update is indicated below.",
    "privacy.changes.note":
      "You are advised to regularly consult this page to be aware of any changes.",
  },
};

// Langue par d√©faut
let currentLang = localStorage.getItem("language") || "fr";

// Fonction pour obtenir une traduction
function t(key) {
  return translations[currentLang][key] || key;
}

// Fonction pour changer la langue
function setLanguage(lang) {
  if (!translations[lang]) return;

  currentLang = lang;
  localStorage.setItem("language", lang);
  document.documentElement.lang = lang;

  // Mettre √† jour tous les √©l√©ments avec data-i18n
  document.querySelectorAll("[data-i18n]").forEach((element) => {
    const key = element.getAttribute("data-i18n");
    const translation = t(key);

    if (element.tagName === "INPUT" || element.tagName === "TEXTAREA") {
      element.placeholder = translation;
    } else {
      element.innerHTML = translation;
    }
  });

  // Mettre √† jour les attributs aria-label
  document.querySelectorAll("[data-i18n-aria]").forEach((element) => {
    const key = element.getAttribute("data-i18n-aria");
    element.setAttribute("aria-label", t(key));
  });

  // Mettre √† jour le bouton de langue actif
  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.classList.toggle("active", btn.getAttribute("data-lang") === lang);
  });

  // Mettre √† jour l'attribut lang du body pour le CSS
  document.documentElement.setAttribute("lang", lang);

  // Mettre √† jour l'aria-pressed du bouton toggle
  const langToggle = document.getElementById("language-toggle");
  if (langToggle) {
    langToggle.setAttribute("aria-pressed", lang === "en" ? "true" : "false");
    langToggle.setAttribute(
      "aria-label",
      lang === "fr" ? "Switch to English" : "Passer en fran√ßais",
    );
  }
}

// Fonction pour basculer entre les langues
function toggleLanguage() {
  const newLang = currentLang === "fr" ? "en" : "fr";
  setLanguage(newLang);
}

// Initialiser la langue au chargement
document.addEventListener("DOMContentLoaded", () => {
  setLanguage(currentLang);

  // Ajouter les event listeners pour les boutons de langue
  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.addEventListener("click", () => {
      const lang = btn.getAttribute("data-lang");
      setLanguage(lang);
    });
  });

  // Ajouter event listener pour le toggle
  const langToggle = document.getElementById("language-toggle");
  if (langToggle) {
    langToggle.addEventListener("click", toggleLanguage);
  }
});
